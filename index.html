<!doctype html>
<html>
  <head>
    <title>Heatseeker Server</title>
    <style type="text/css">
      #map {
        width:  500px;
        height: 400px;
        background-color: #CCC;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script>
      function initialize() {
        var myLatLng = {lat: -25.363, lng: 131.044};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: myLatLng
        });
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
        });
      }
      google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id = "map"></div>
    <!-- <ul id="messages"></ul>
    <form action="">
      <input id="m" autocomplete="off" /><button>Send</button>
    </form> -->
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
      var latitudeD;
      var longitudeD;
      var socket = io();
      socket.on('latData', function(latitude){
        latitudeD = latitude;
      });
      socket.on('lngData', function(longitude){
        longitudeD = longitude;
        update(longitudeD, latitudeD);
      })

      function update(lat, lng){
        myLatLng = {lat: lat, lng: lng};
        map = new google.maps.Map(document.getElementById('map'), {
         zoom: 4,
         center: myLatLng
      });
        marker = new google.maps.Marker({
          position myLatLng;
          map: map;
        });
      }
    </script>
  </body>
</html>
